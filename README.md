the upstream version of this sucks
